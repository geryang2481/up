<!DOCTYPE html>
<!-- html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"-->
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<head>
	    <meta charset="UTF-8"/>
	    <title>Secured Content</title>
	</head>
	<script src="../static/js/data.js"  th:src="@{/js/data.js}"></script>
	<body>
		<div class="container">
    		<h2>Bsg data Extractor</h2>
    		<br/>
				<b>DB Config Form</b>
				<br/>
				<br/>
    		<form id="dbConfigForm" class="form-horizontal" th:object="${dbCommand}" th:action="@{/dataExtractor}" method="post">
    			<td th:switch="${dbCommand.error}">
	    			<div th:case="'0'" >
		            	<p></p>
		            </div>
			   	 	<div th:case="'1'" class="alert alert-danger">
		            	<p style="color: #ffffff; background-color: #ff0000">Error Connecting to Database. </p>
		            	<p th:text="${#dates.format(standardDate, 'yyyy-MM-dd HH:mm:ss:SSS')}" style="color: #ffffff; background-color: #ff0000"></p>
		            </div>
		            <div th:case="'2'" >
		            	<p style="color: #ffffff; background-color: green">Extract Completed.</p></p>
		            	<p th:text="${#dates.format(standardDate, 'yyyy-MM-dd HH:mm:ss:SSS')}" style="color: #ffffff; background-color: green"></p>
		            </div>
			    </td>
			    <br/>
			    <br/>
	    		<!-- >div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
		            <p th:text="#{dbCommand.hasErrors}" style="background: red; font-style: white">Error Message</p>
		        </div-->
		       
				<div class="form-group" th:class="${#fields.hasErrors('host')} ? 'form-group has-error' : 'form-group'">
			       <label class="col-sm-2 control-label">Server Host</label>
			       <div class="col-sm-10">
			           <input type="text" class="form-control" th:field="*{host}" th:errorclass="has-error" style="width: 500px"/>
			           <span class="help-block" th:if="${#fields.hasErrors('host')}">
			                  <ul>
			                      <li th:each="err : ${#fields.errors('host')}" th:text="${err}" />
			                  </ul>
			           </span>
			       </div>
			      </div>
			      <br/>
			       <div class="form-group" th:class="${#fields.hasErrors('port')} ? 'form-group has-error' : 'form-group'">
			       <label class="col-sm-2 control-label">Server Port</label>
			       <div class="col-sm-10">
			           <input type="text" class="form-control" th:field="*{port}" th:errorclass="has-error" style="width: 500px"/>
			           <span class="help-block" th:if="${#fields.hasErrors('port')}">
			                  <ul>
			                      <li th:each="err : ${#fields.errors('port')}" th:text="${err}" />
			                  </ul>
			           </span>
			       </div>
			       </div>
			       <br/>
			        <div class="form-group" th:class="${#fields.hasErrors('dbname')} ? 'form-group has-error' : 'form-group'">
			       <label class="col-sm-2 control-label">Database Name</label>
			       <div class="col-sm-10">
			           <input type="text" class="form-control" th:field="*{dbname}" th:errorclass="has-error" style="width: 500px"/>
			           <span class="help-block" th:if="${#fields.hasErrors('dbname')}">
			                  <ul>
			                      <li th:each="err : ${#fields.errors('dbname')}" th:text="${err}" />
			                  </ul>
			           </span>
				   </div>
				   </div>
				   <br/>
				   <div class="form-group" th:class="${#fields.hasErrors('username')} ? 'form-group has-error' : 'form-group'">
				       <label class="col-sm-2 control-label">User Name</label>
				       <div class="col-sm-10">
				           <input type="text" class="form-control" th:field="*{username}" th:errorclass="has-error" style="width: 500px"/>
				
				           <span class="help-block" th:if="${#fields.hasErrors('username')}">
				                  <ul>
				                      <li th:each="err : ${#fields.errors('username')}" th:text="${err}" />
				                  </ul>
				            </span>
				        </div>
				    </div>
				    <br/>
				    <div class="form-group" th:class="${#fields.hasErrors('password')} ? 'form-group has-error' : 'form-group'">
				        <label class="col-sm-2 control-label">Password</label>
	         			<div class="col-sm-10">
	             			<input type="password" class="form-control" th:field="*{password}" th:errorclass="has-error" style="width: 500px"/>
				             <span class="help-block" th:if="${#fields.hasErrors('password')}">
			                    <ul>
			                        <li th:each="err : ${#fields.errors('password')}" th:text="${err}" />
			                    </ul>
	             			</span>
	         			</div>
	     			</div>
	     			<br/>
	     			<div class="form-group" th:class="${#fields.hasErrors('output')} ? 'form-group has-error' : 'form-group'">
				        <label class="col-sm-2 control-label">Output Folder</label>
	         			<div class="col-sm-10">
	             			<input type="text" class="form-control" th:field="*{output}" th:errorclass="has-error" th:value="*{output}" style="width: 500px">
				             <span class="help-block" th:if="${#fields.hasErrors('output')}">
			                    <ul>
			                        <li th:each="err : ${#fields.errors('output')}" th:text="${err}" />
			                    </ul>
	             			</span>
	         			</div>
	     			</div>
	     			<br/>
	     			<br/>
	     			<div class="row">
	         			<button type="submit" class="btn btn-default" onclick="clicked(event)">Submit</button>
	     			</div>
	     			<br/>
	     			<br/>
	     			<a href="dbConfigForm.html" th:href="@{/system-exit}">Terminate Session</a>
     		</form>
    	</div>
	</body>
</html>